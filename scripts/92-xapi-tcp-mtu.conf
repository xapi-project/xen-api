# TCP Path MTU Discovery settings
#
# These settings enable automatic TCP MTU detection to prevent issues when
# path MTU is smaller than configured interface MTU (e.g., jumbo frames
# configured but not supported by network path).
#
# References:
# - https://blog.cloudflare.com/path-mtu-discovery-in-practice/
# - CA-384228: Slave hang during pool join due to MTU mismatch
#
# net.ipv4.tcp_mtu_probing:
#   0 = disabled (default)
#   1 = enabled when ICMP blackhole detected (recommended)
#   2 = always enabled
#
# net.ipv4.tcp_base_mss:
#   Base MSS to use for MTU probing (default 1024)
#   This is the starting point for MTU probing when enabled

net.ipv4.tcp_mtu_probing = 1
net.ipv4.tcp_base_mss = 1024
